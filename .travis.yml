language: python
python:
- 3.7
env:
  global:
  - MOLECULE_DEBUG: 'true'
  - ROLE_NAME: fcrepo
  - EC2_REGION: us-east-1
  - secure: LQAEFpSOrU7sax4Xp+jnxHlyWPlVrxP8IKDCSvmuEc3XNQFausJJRSsnigKpVqoN2DVD6n+Q9pIgJzjaBQYr+3n4KlytYdTIQfWYuJy2TtpVejtLJmx5a6cqdMI7+8q5/rtsHuSsZnEB6CVoefHwLYWQztplQdqueibLWn4Q8HudcRzR+DryooKDnzB+Zjv+bqVo98+cpY3X94YP0CRQvtaBwGz5KMxReSeoNxcBPrUkJVcWMhoFntz3a2Pn3231LOQG10DVGiKfV7/M91Emww9GlRVNsUrKOPx1qq3dp4e76xrMJ0CD/7ijbA7zGVM40XJYtwwqWNqza72o5JM+DwPivIM2JW9e9mR4tY7EooA3n8L4qRdiNjpmKlxna28N949s6LnJ8vdHDzgfOYHhwOsDf8KD6wD75DhssbsiPzTD0hCOkvIFw3ySoiU7pmYfj0+RZ8lx3k62BFvLcRqMzF2MGhk83+mB2UdpLkqE9UQOwPdGaDpwgy32hJfNzr1wruuCPezDeB04+TOZyfI6mKfamEH1efNoOhIx1vKa4FAWIP5Ilgip51YPbS06wgnd0i+fs/taxFG8UkouvLh5rgdnxYTUmfskXTtivlFdUwDVWPf95AFsdZewbRSZPRK5zKEPrn3HE0EmesEfJbOjWeJ63AYN9r/IDyxsvFzEj1Y=
  - secure: tTi1xtlm0lkVIriBZbUPEK7oxGfP6BIHwtqRGv+pzDT/PS5f6uGsITkMSJuq7GUZ6T+GbNBF1DB7XYe0HpzuTU6Pcuz4rrmBqMiWcaZ61MsqagwHoBueykYcYSnIKqFoeZDw1fAnvw4T9avC2fE27EpxnF5Q3tZuEbQZzJXQ0lmgOqnpb7RiLdUWEwIo5mBbW3RVg3JId8hP9+uhzWHEj7e0ZH/d48mfpRm2ut9bu/LdJ1IvOtGokZijF3dg0jgWNpB/F10Pu1gB5tiUoZ/vrSxD00Rvgr2xrkAzNzvLQ3esad4ZSLLoYc1OXmRGVYh8k7Fxv8yg3FVyCVHa2CTk5aahZ0aG5YkaL+Tas5ZIPMA/xBQ0JuxEAcLOZ8US0EVOlnrImjI5Fm3lMCp2oRZHl0JpYQC/grMNUIVQ73NEUIBdO4jmA/ooAXegCXo++COWoQKOk6injNeXIuE41PzLshAS2nSRa7/4U0KdK2zGu62T2cX21dReb5PxPvsB+boqMnxwBPZPQ+5ZbnYFXeBD1VJG+J/x+Aeak5VS/ULGhbG8L1sPc1cKGDI+Gs52maviYKQTiM6cQQVDyHotUdQ+HXkgCn2apkJIRfE6f+Y0YvlKSl6LHyw/MQu8hNkqaxQ6qAYHQYqZpNrosShj2zX1HBPHcpdb4gYSiCo+7j+pz9A=
  - secure: na3YsNJj/S0oS6YEcBoUNLACeFRG4twCOTUHPZZcCj9GlSAseacQ0nDVPIQtWVyUxhNw7oSL59Zag8UAVs4WXCFpuPnuvGDLJSjbQ0zdwM1Wh/TjtLE0tBmkbBLLJ41HRTMEDupS2+LINo3TxtMfFMG6Mq3l0G2g1i3RGztKsGEMXjCOpkKsy5v0Jr5HsyLKcAI7wuWHMtqEA5JAUiunbW2WHIysnSwTqLBsfs7By5P79fbu0mBWZznkrNeR9IWkMN446dy39tbsFvjdAQe59QLbQOUrPcMyqc3B+2B7HxJk1YoRZxnOdj8AcfyF0GaBJ3W1xUkd1EVbvOe9aQ89bUfI6850YwNnKMfDZPAOj3y5jfup9zL6haKRDrK9BLnWVJ6SEXVsmpMBbyOCw+rz3Mfv5F8eQr/0NwkeUsVYmlklDz/Njy36KU19L6ZlPukHR8f3UpnMVt9Sm/B7/yhzppG9UpxfYwKL+K9bhj2XbO2fmb7U2W7BzaSQwwRDhLGX734aYylPk3FwpwaGwdggxY12bK8GfyTjBYm+CnaCeOzUHD11Ru7BZDb999Cljf5Hs4ikPlOUp6kesoN0Wtz5FA/k1mteyfLNE5SBqB9u4rQ33r0+Sovsg4eN+AmDdqCq2It6ykMHe60daR9EJHCaOT+d8f469hhqtZZg1zd5w0o=
  - secure: euOv3SdD8mwRdOJy2yYAqY5aU1cCB4sfT832D8hVH0SxSUcSMtrmyo+kysD7H6vHY/BbLfGlvOYClr9cG1HstOQ6jdMFaeGkNRc4XfOk94SAbZHdq1NZsn4MX5fSGTAAWfVxmJWoCkU4tx/Eb1THOQ9Ed+Ef7LswiMOUgpXLqzDxDeZ5Ct7DIUFyf6MQqKHZ+YU0bAMvjzK3hUY6mXdzlBsvtr11xEmd5N5ZRct78KtbZ/VKJgy5oUkNufaiKZeihUy2prCfyaWl+MUKKel3zFKOH0uI/saHTufkwcbRPb6GiOJ0L67GQw/ri6jg5dmGrPKlWOP0B7ghL3w53Mnfhsgv06cJlAK7CgU8nCqDY/YGTTV8XBfMAG69K/FezLIuWSELgFVBJjJQ2QM/GyysSYmQ9L4A6qgKX8BNuiRF6wb7wCI3Ky+7Il8VDH9TjEgBXGKMFeFLQs2f194IgGQQPgmm48Wi+tACEGk75Vi84+9ibCbXGh4hz94Lie4lOftnAru7VrByUH2TK6KjzbznLvP6JGM3tcpwNspfSckWXGkNlDIZVkM9DTLIFMonnpp5XvAsPTFM+as/5/uZP5YjJjiBusGBkOzzfqzGqCgNGjNs0be6nfeG+coG4uMd8jOfn4hdiSp9ww5EQAlsn4UsJuHYTVZsvd/IFmdWjofLi2w=
install:
- pip install pipenv
- pipenv install
- aws configure set aws_access_key_id $AWS_ACCESS_KEY
- aws configure set aws_secret_access_key $AWS_SECRET_KEY
- aws configure set default.region $EC2_REGION
- aws configure list
script:
- molecule create --scenario-name aws
- molecule converge --scenario-name aws
- molecule verify --scenario-name aws
- molecule destroy --scenario-name aws
notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
